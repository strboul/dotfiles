#!/usr/bin/env bash

# TODO write this in lua?

# Replace smart quotes with ASCII equivalents
#
# Examples:
# replace-smart-quotes "‘hello’ “world”"
#
# echo "‘hello’ “world”" > /tmp/test.txt
# replace-smart-quotes -f /tmp/test.txt
#

INPUT="$1"
FILE="$2"

SINGLE=$(echo -ne "\u00B4\u2018\u2019")
DOUBLE=$(echo -ne "\u201C\u201D")

if [ "$INPUT" == "-f" ]; then
  sed -i "s/[$SINGLE]/'/g; s/[$DOUBLE]/\"/g" "$FILE"
else
  echo "$INPUT" | sed "s/[$SINGLE]/'/g; s/[$DOUBLE]/\"/g"
fi

